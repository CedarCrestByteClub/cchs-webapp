<!DOCTYPE html>
	<head>
		<script type="text/javascript" src="//www.parsecdn.com/js/parse-1.3.3.min.js"></script>
    	<script type="text/javascript" src="initialize.js"></script> 
		
	</head>
	<body>
		<p style="text-align: center;">Username: 
        	<input type="text" id="Username">
    	</p>
    	<p style="text-align: center;">Password:  
        	<input type="password" id="Password">
   		</p>
   		<p style="text-align: center;">Password:  
        	<input type="password" id="Password2">
   		</p>
   		<script type="text/javascript">
   		
   			function signUp()
   			{
   				//alert("Entered sign up")
   				var username = document.getElementById("Username").value;
   				var pass1 = document.getElementById("Password").value;
   				var pass2 = document.getElementById("Password2").value;
   				if (validate(username, pass1, pass2))
   				{
   					//alert("validate works");
   					var user = new Parse.User();
   					//alert("Parse is initialized");
   					user.set("username", username);
    				user.set("password", pass1);
    				alert("username and password set");
   					var People = Parse.Object.extend("People");
    				var otherUser = new People();
   					otherUser.set("Username", username);
    				otherUser.set("Password", pass1);
    				/*otherUser.save(null,
    				{
        				success: function(otherUser)
        				{
        					alert("Entered signUp() success call");
        				},
        				error: function(otherUser, error)
        				{
        					alert("Entered my signUp() error call");
        				}
    				});*/
    				alert("Please help");
    				user.signUp(null,
    				{
    					success: function(user) 
    							 {
    								
    							 }, 
    					error: function(user, error) 
    							{
    								/*alert("Error: " + error.code + " " + error.message);*/
    							}
    				});
   				}
   				window.location = "index.html";
   				
   			}
   			
   			//eventually we should change this to require a longer username
   			//checks for blank username and password, and checks to make sure passwords are the same
   			function validate(username, pass1, pass2)
   			{
   				alert("Entered validate");
   				if (username !== "")
   				{
   					if(pass1 === pass2) 
   					{
   						if (pass1 !== "")
   						{
   							alert("Returning true");
   							return true;
   						}
   						else
   							alert("Password field cannot be empty");
   					}
   					else
   						alert("Passwords do not match!");				
   				}
   				else
   					alert("Username cannot be blank!");
   			}
   		</script>
   		<div style = "text-align: center">
   			<input type="button" onclick="signUp()" value="Create account">
   		</div>
   		
	</body>

</html>